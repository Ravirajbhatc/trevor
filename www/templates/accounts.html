<ion-view view-title="Accounts">

    <ion-nav-buttons side="right">
      <button class="button button-icon ion-log-out button-dark" ng-click="logOut()"></button>
    </ion-nav-buttons>

    <ion-content class="accounts">

        <ion-refresher
            pulling-text="Pull to refresh"
            on-refresh="fetch()">
        </ion-refresher>

        <div class="row welcome-banner" ng-if="accounts.length > 0">
            <div class="col col-100 padding">
                <img src="images/travis-mascot.png" class="logo">
                <span ng-if="greeting">Hi {{ greeting }}!</span>
                <span ng-if="!greeting">Welcome to Trevor!</span>
                <div class="pro" ng-if="pro">You are logged in to Travis Pro.</div>
                <div class="pro" ng-if="!pro">You are logged in to Travis CI for Open Source.</div>
            </div>
        </div>

        <div class="row no-entries padding" ng-if="accounts.length < 1">
            <div class="col col-100 padding">
                <i class="icon ion-sad"></i>
                <div class="message">Oops! It seems that there are no accounts. Weird huh?</div>
            </div>
        </div>

        <a class="item" ng-href="#/app/repos/{{account.login}}" ng-if="pro && account.subscribed" ng-repeat="account in accounts">
            <i class="icon" ng-class="{'user': 'ion-ios-person', 'organization': 'ion-ios-people'}[account.type]"></i> {{account.login | limitText : true : 30 : '...'}}
            <p ng-if="account.name">{{account.name}}</p>
            <span class="badge badge-positive">{{account.repos_count}}</span>
        </a>

        <a class="item not-subscribed" ng-if="pro && !account.subscribed" ng-repeat="account in accounts">
            <i class="icon" ng-class="{'user': 'ion-ios-person', 'organization': 'ion-ios-people'}[account.type]"></i> {{account.login | limitText : true : 30 : '...'}}
            <p>{{account.name}}<span>Not Subscribed</span></p>
            <span class="badge badge-positive">{{account.repos_count}}</span>
        </a>

        <a class="item" ng-href="#/app/repos/{{account.login}}" ng-if="!pro" ng-repeat="account in accounts">
            <i class="icon" ng-class="{'user': 'ion-ios-person', 'organization': 'ion-ios-people'}[account.type]"></i> {{account.login | limitText : true : 30 : '...'}}
            <p ng-if="account.name">{{account.name}}</p>
            <span class="badge badge-positive">{{account.repos_count}}</span>
        </a>

    </ion-content>
</ion-view>
