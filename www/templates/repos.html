<ion-view view-title="Repos">
    <ion-content class="repos">

        <ion-refresher
            pulling-text="Pull to refresh"
            on-refresh="fetch()">
        </ion-refresher>

        <div class="list">
            <div class="item item-input-inset">
                <label class="item-input-wrapper">
                    <input type="text" placeholder="Search Repositories" ng-model="searchReposName">
                </label>
            </div>
        </div>

        <a class="item" ng-href="#/app/builds/{{repo.id}}" ng-if="repo.active" ng-repeat="repo in repos | orderObjectBy:'last_build_id':true | filter:searchReposName">
            {{repo.short_slug}}

            <div class="row">
                <div class="col col-50"><p><i class="icon ion-settings"></i> Build Number: {{ repo.last_build_number }}</p></div>
                <div class="col col-50"><p><i class="icon ion-clock"></i> Duration: {{repo.last_build_duration | convertSeconds }}</p></div>
            </div>

            <span class="badge" ng-if="repo.last_build_state">
                <i class="icon" ng-class="{'passed': 'ion-checkmark-circled', 'started': 'ion-ios7-circle-filled', 'failed': 'ion-close-circled'}[repo.last_build_state]"></i>
            </span>
        </a>

  </ion-content>
</ion-view>
